#分布式爬虫系统

> 哈尔滨工业大学：武德浩，万丁，李博


> 题目要求：
> 
> 爬虫系统，是对海量的分散的互联网数据进行采集的系统，是搜索引擎系统的基础。大数据近年来快速发展，炙手可热，不仅是数据的容量大，更是强调对全样本的数据的分析。互联网数据中包含了大量有价值信息，是大数据的重要数据来源。
而互联网上的数据内容丰富，组织形式也灵活多样。传统的爬虫系统，对所有的网页采用同样的办法处理，利用深度优先或广度优先的办法获取网页链接，下载网页，对网页中的所有的文本数据建立倒排索引。这种方式没有对网页数据的信息进行组织、归类。
应大数据的需求，分布式爬虫系统是解决这一问题的方案。分布式爬虫，对同一个网站的同类数据，进行结构化。同时，能利用分布式的软件设计方法，实现爬虫的高效采集。

##基于分布式爬虫的淘宝网站信息爬取及词云展示

###前言

本次我们首先开始的是针对于淘宝（天猫）网站的关于商品Url，商品价格，商品评论，店铺Url，店铺信息，店铺地址，店铺信用排名等各种数据的爬取，然后通过我们后期处理，组织，对商品进行数据的管理，可视化，以及对评论进行词云生成，以方便使用者在庞大的数据下能够有效的提取出有用的信息。

电商网站中的数据具有极大的价值，而同样也正是如此，各大电商网站对于爬虫都有较为完善的反爬虫机制，且网站结构变化快，时效性极高，不同网站数据组织不同，分类标签不同，需要人工针对不同的网站定制不同的爬虫，而且由于淘宝，京东等网站体量极大，我们在爬取的过程中，如果仅仅使用传统爬虫，除开被封禁 IP 的危险，更会受限于效率，让我们无法在所需要的时间内爬取到相应的信息，此外关于Url去重，爬取过程中时间与空间的博弈等等需求，都让电商类网站爬虫的制作困难重重。

在这样的任务要求上，我们基于传统的爬虫进行了改进，经过广泛的学习与思考之后，我们采用了 redis 数据库实现了一个分布式结构化的爬虫，可以对于淘宝（天猫）网站进行多个线程的同时爬取，其效率和效果都远远的高于我们最开始的传统爬虫。

###前提环境、架构

开发语言：Python 3.6

开发环境: Windows 10、8G内存，Core I5 处理器

数据库：Redis

###实现方式说明

我们利用 redis 实现了 master + slaver 的分布式爬虫思想。

主要策略如下图：
![pic 1](https://ooo.0o0.ooo/2017/06/28/595397f34e61e.jpg)

我们设置了一个 master.py 文件用于管理 request ，发送给 slaver.py 需要爬取的页面请求，由 slaver.py 完成页面信息的提取，中间对于 url 的处理我们使用 redis 进行管理，以便于处理多线程之间的通信。

[武德浩补充]

此外我们的爬虫中还有一个 getIP 文件，此文件的作用主要是用于实现 IP 池的管理，我们通过从一个专门的代理网站去爬取当下可用的热门 IP ，实时对 slaver 更换 IP 去进行爬取，以防止单一 IP 遭到淘宝的反爬虫策略的封禁。

![pic 2](https://ooo.0o0.ooo/2017/06/28/5953997a8ff47.png)

###爬虫的运行与测试






